# Gig Marketplace Production Environment Configuration
# ⚠️ CRITICAL: This file contains sensitive production settings
# Copy this file to .env and update ALL values with production credentials

# ========================================
# APPLICATION SETTINGS
# ========================================
APP_NAME="Gig Marketplace"
APP_ENV=production
APP_KEY=                                    # Generate with: php artisan key:generate
APP_DEBUG=false                             # ⚠️ MUST BE FALSE in production
APP_TIMEZONE=Asia/Dhaka
APP_URL=https://gig.com.bd

# Frontend URL for CORS
FRONTEND_URL=https://gig.com.bd

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

# ========================================
# LOGGING
# ========================================
LOG_CHANNEL=stack
LOG_STACK=single,daily
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error                             # Use 'error' in production, not 'debug'

# ========================================
# DATABASE CONFIGURATION
# ========================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1                          # Update with production database host
DB_PORT=3306
DB_DATABASE=gig_marketplace_prod           # Update with production database name
DB_USERNAME=                               # ⚠️ REQUIRED: Set production DB username
DB_PASSWORD=                               # ⚠️ REQUIRED: Set production DB password

# ========================================
# SESSION & CACHE
# ========================================
SESSION_DRIVER=redis                       # Use redis in production (or database if redis unavailable)
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=.gig.com.bd                 # Note the leading dot for subdomain support

BROADCAST_CONNECTION=pusher
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis                     # Use redis in production (or database if unavailable)

CACHE_STORE=redis                          # Use redis in production
CACHE_PREFIX=gig_prod_

MEMCACHED_HOST=127.0.0.1

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1                       # Update if using external Redis
REDIS_PASSWORD=null                        # ⚠️ Set if Redis has password
REDIS_PORT=6379

# ========================================
# MAIL CONFIGURATION
# ========================================
MAIL_MAILER=smtp                           # ⚠️ REQUIRED: Configure SMTP, not 'log'
MAIL_HOST=                                 # ⚠️ REQUIRED: e.g., smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=                             # ⚠️ REQUIRED: SMTP username/email
MAIL_PASSWORD=                             # ⚠️ REQUIRED: SMTP password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@gig.com.bd"
MAIL_FROM_NAME="${APP_NAME}"

# ========================================
# AWS / FILE STORAGE
# ========================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=ap-southeast-1          # Singapore region (closest to BD)
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ========================================
# PUSHER / WEBSOCKETS
# ========================================
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=ap1                     # Use ap1 cluster for Asia

VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# ========================================
# SOCIAL AUTHENTICATION
# ========================================
GOOGLE_CLIENT_ID=                          # ⚠️ REQUIRED if using Google login
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://gig.com.bd/auth/google/callback

FACEBOOK_CLIENT_ID=                        # ⚠️ REQUIRED if using Facebook login
FACEBOOK_CLIENT_SECRET=
FACEBOOK_REDIRECT_URI=https://gig.com.bd/auth/facebook/callback

LINKEDIN_CLIENT_ID=                        # ⚠️ REQUIRED if using LinkedIn login
LINKEDIN_CLIENT_SECRET=
LINKEDIN_REDIRECT_URI=https://gig.com.bd/auth/linkedin/callback

# ========================================
# PAYMENT GATEWAYS
# ========================================
STRIPE_KEY=                                # ⚠️ REQUIRED: Stripe publishable key
STRIPE_SECRET=                             # ⚠️ REQUIRED: Stripe secret key
STRIPE_WEBHOOK_SECRET=                     # ⚠️ REQUIRED for webhook verification

PAYPAL_CLIENT_ID=                          # Optional: PayPal client ID
PAYPAL_CLIENT_SECRET=
PAYPAL_SANDBOX=false                       # ⚠️ MUST BE false in production

# ========================================
# AI SERVICES
# ========================================
OPENAI_API_KEY=                            # Optional: For AI features
OPENAI_ORG_ID=

# ========================================
# SEARCH CONFIGURATION
# ========================================
SCOUT_DRIVER=database                      # Use 'database' or 'meilisearch'
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_KEY=

# ========================================
# APPLICATION FEATURES
# ========================================
ENABLE_AI_MATCHING=false                   # Enable after OpenAI key configured
ENABLE_VIDEO_CALLS=false                   # Enable after Agora/Twilio configured
ENABLE_CHAT=true
ENABLE_NOTIFICATIONS=true

# ========================================
# RATE LIMITING
# ========================================
API_RATE_LIMIT=60                          # Requests per minute for API
AUTH_RATE_LIMIT=5                          # Login attempts per minute

# ========================================
# SECURITY
# ========================================
JWT_SECRET=                                # Generate random string
SANCTUM_STATEFUL_DOMAINS=gig.com.bd,www.gig.com.bd

# CORS Configuration (comma-separated list)
# ⚠️ CRITICAL: Specify exact domains, do not use wildcards in production
CORS_ALLOWED_ORIGINS=https://gig.com.bd,https://www.gig.com.bd

# ========================================
# CURRENCY & LOCALIZATION
# ========================================
DEFAULT_CURRENCY=BDT
SUPPORTED_CURRENCIES=BDT,USD,EUR,GBP

# ========================================
# VITE (Build Assets)
# ========================================
VITE_APP_NAME="${APP_NAME}"

# ========================================
# PRODUCTION CHECKLIST (Remove after configuration)
# ========================================
# [ ] APP_DEBUG is set to false
# [ ] APP_ENV is set to production
# [ ] APP_KEY has been generated
# [ ] Database credentials are correct
# [ ] SMTP mail configuration is working
# [ ] CORS_ALLOWED_ORIGINS contains only your domains
# [ ] SSL certificate is installed
# [ ] File permissions are set (755 for storage, bootstrap/cache)
# [ ] All API keys are production keys (not test/sandbox)
# [ ] Redis is configured (or fallback to database)
# [ ] Backups are configured and tested
# [ ] Monitoring and logging are set up
